3:I[5878,["5501","static/chunks/c16f53c3-263c4e379e12b9c7.js","7096","static/chunks/7096-6d1c431b58ffd388.js","5878","static/chunks/5878-f84dc20828bf89ac.js","5493","static/chunks/app/(notes)/ds/(heaps)/heap/page-121687dfff8cf281.js"],"Image"]
6:I[3474,["5501","static/chunks/c16f53c3-263c4e379e12b9c7.js","7096","static/chunks/7096-6d1c431b58ffd388.js","5878","static/chunks/5878-f84dc20828bf89ac.js","5493","static/chunks/app/(notes)/ds/(heaps)/heap/page-121687dfff8cf281.js"],"default"]
a:I[4707,[],""]
b:I[6423,[],""]
c:I[2972,["2972","static/chunks/2972-46c398a3f3c253df.js","6942","static/chunks/app/(notes)/layout-5e3a5ea0592c52ee.js"],""]
2:T834,<span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mtext>Для любой вершины </mtext><mi>v</mi><mtext> и каждого её потомка </mtext><mi>x</mi><mtext> верно </mtext><mi>v</mi><mo>⋄</mo><mi>x</mi><mtext>.</mtext></mrow><annotation encoding="application/x-tex">\text{Для любой вершины}~ v ~\text{и каждого её потомка}~ x ~\text{верно}~ v \diamond x \text{.}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mord text"><span class="mord cyrillic_fallback">Для</span><span class="mord"> </span><span class="mord cyrillic_fallback">любой</span><span class="mord"> </span><span class="mord cyrillic_fallback">вершины</span></span><span class="mspace nobreak"> </span><span class="mord mathnormal" style="margin-right:0.03588em;">v</span><span class="mspace nobreak"> </span><span class="mord text"><span class="mord cyrillic_fallback">и</span><span class="mord"> </span><span class="mord cyrillic_fallback">каждого</span><span class="mord"> </span><span class="mord cyrillic_fallback">её</span><span class="mord"> </span><span class="mord cyrillic_fallback">потомка</span></span><span class="mspace nobreak"> </span><span class="mord mathnormal">x</span><span class="mspace nobreak"> </span><span class="mord text"><span class="mord cyrillic_fallback">верно</span></span><span class="mspace nobreak"> </span><span class="mord mathnormal" style="margin-right:0.03588em;">v</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">⋄</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">x</span><span class="mord text"><span class="mord">.</span></span></span></span></span></span>4:T6d2,<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo fence="true" stretchy="true" minsize="1.2em" maxsize="1.2em">⌈</mo><msub><mrow><mi>log</mi><mo>⁡</mo></mrow><mn>2</mn></msub><mo stretchy="false">(</mo><mi>n</mi><mo>+</mo><mn>1</mn><mo stretchy="false">)</mo><mo fence="true" stretchy="true" minsize="1.2em" maxsize="1.2em">⌉</mo></mrow><annotation encoding="application/x-tex">\bl\lceil \log_2 (n+1) \br\rceil</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.2em;vertical-align:-0.35em;"></span><span class="mopen"><span class="delimsizing size1">⌈</span></span><span class="mop"><span class="mop">lo<span style="margin-right:0.01389em;">g</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.207em;"><span style="top:-2.4559em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2441em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1.2em;vertical-align:-0.35em;"></span><span class="mord">1</span><span class="mclose">)</span><span class="mclose"><span class="delimsizing size1">⌉</span></span></span></span></span>5:T7de,<span class="keyword">private</span> <span class="keyword">method</span> <span class="function">shift_down</span><span class="punctuation">(</span><span class="abstract-type">array</span> h<span class="punctuation">,</span> <span class="builtin">int</span> i<span class="punctuation">)</span><span class="punctuation">:</span>
    <span class="keyword">while</span> <span class="number">2</span> <span class="operator">*</span> i <span class="operator">+</span> <span class="number">1</span> <span class="operator">&lt;</span> size of h<span class="punctuation">:</span>
        left <span class="operator">=</span> <span class="number">2</span> <span class="operator">*</span> i <span class="operator">+</span> <span class="number">1</span>
        right <span class="operator">=</span> <span class="number">2</span> <span class="operator">*</span> i <span class="operator">+</span> <span class="number">2</span>
        
        <span class="keyword">if</span> right <span class="operator">&lt;</span> size of h <span class="keyword">and</span> h<span class="punctuation">[</span>right<span class="punctuation">]</span> <span class="operator">&gt;</span> h<span class="punctuation">[</span>left<span class="punctuation">]</span><span class="punctuation">:</span>
            j <span class="operator">=</span> right
        <span class="keyword">else</span><span class="punctuation">:</span>
            j <span class="operator">=</span> left
        
        <span class="keyword">if</span> h<span class="punctuation">[</span>i<span class="punctuation">]</span> <span class="operator">&gt;=</span> h<span class="punctuation">[</span>j<span class="punctuation">]</span><span class="punctuation">:</span>
            <span class="keyword">break</span>

        <span class="keyword">swap</span> h<span class="punctuation">[</span>i<span class="punctuation">]</span><span class="punctuation">,</span> h<span class="punctuation">[</span>j<span class="punctuation">]</span>
        i <span class="operator">=</span> j7:T584,<span class="keyword">private</span> <span class="keyword">method</span> <span class="function">shift_up</span><span class="punctuation">(</span><span class="abstract-type">array</span> h<span class="punctuation">,</span> <span class="builtin">int</span> i<span class="punctuation">)</span><span class="punctuation">:</span>
    <span class="keyword">while</span> h<span class="punctuation">[</span>i<span class="punctuation">]</span> <span class="operator">&gt;</span> h<span class="punctuation">[</span><span class="punctuation">(</span>i <span class="operator">-</span> <span class="number">1</span><span class="punctuation">)</span> <span class="operator">/</span> <span class="number">2</span><span class="punctuation">]</span><span class="punctuation">:</span>
        <span class="keyword">swap</span> h<span class="punctuation">[</span>i<span class="punctuation">]</span><span class="punctuation">,</span> h<span class="punctuation">[</span><span class="punctuation">(</span>i <span class="operator">-</span> <span class="number">1</span><span class="punctuation">)</span> <span class="operator">/</span> <span class="number">2</span><span class="punctuation">]</span>
        i <span class="operator">=</span> <span class="punctuation">(</span>i <span class="operator">-</span> <span class="number">1</span><span class="punctuation">)</span> <span class="operator">/</span> <span class="number">2</span>8:T59e,<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mtext>высота кучи</mtext><mo stretchy="false">)</mo><mo>=</mo><mi>O</mi><mo stretchy="false">(</mo><mi>log</mi><mo>⁡</mo><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(\text{высота кучи}) = O(\log n)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord text"><span class="mord cyrillic_fallback">высота</span><span class="mord"> </span><span class="mord cyrillic_fallback">кучи</span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mop">lo<span style="margin-right:0.01389em;">g</span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">n</span><span class="mclose">)</span></span></span></span>9:T406,<span class="keyword">method</span> <span class="function">extract_max</span><span class="punctuation">(</span><span class="abstract-type">array</span> h<span class="punctuation">)</span><span class="punctuation">:</span>
    maximum <span class="operator">=</span> h<span class="punctuation">[</span><span class="number">0</span><span class="punctuation">]</span>
    h<span class="punctuation">[</span><span class="number">0</span><span class="punctuation">]</span> <span class="operator">=</span> h<span class="punctuation">[</span><span class="operator">-</span><span class="number">1</span><span class="punctuation">]</span>
    <span class="keyword">delete</span> h<span class="punctuation">[</span><span class="operator">-</span><span class="number">1</span><span class="punctuation">]</span>
    
    <span class="function">shift_down</span><span class="punctuation">(</span>h<span class="punctuation">,</span> <span class="number">0</span><span class="punctuation">)</span>
    <span class="keyword">return</span> maximum0:["5p-Id3P0IahyFYlO5L0l0",[[["",{"children":["(notes)",{"children":["ds",{"children":["(heaps)",{"children":["heap",{"children":["__PAGE__",{}]}]}]}]}]},"$undefined","$undefined",true],["",{"children":["(notes)",{"children":["ds",{"children":["(heaps)",{"children":["heap",{"children":["__PAGE__",{},[["$L1",[["$","div",null,{"className":"title","children":["$","h1",null,{"children":"Двоичная куча"}]}],["$","div",null,{"className":"par","children":[["$","p",null,{"children":"Двоичная куча или пирамида – полное двоичное дерево, в котором значение любой вершины не меньше (или не больше), чем значения её потомков."}],["$","p",null,{"children":["В кучах можно использовать любое отношение частичного порядка"," ",["$","span",null,{"className":"math","dangerouslySetInnerHTML":{"__html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mo>⋄</mo></mrow><annotation encoding=\"application/x-tex\">\\diamond</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.4445em;\"></span><span class=\"mord\">⋄</span></span></span></span>"}}],", тогда свойство кучи будет таким:"]}],["$","div",null,{"className":"math-display","dangerouslySetInnerHTML":{"__html":"$2"}}]]}],["$","div",null,{"className":"par","children":["$","p",null,{"children":["Куча позволяет изменять, добавлять элементы, а так же извлекать максимум (а в общем случае элемент, для которого верно бинарное отношение со всеми другими элементами) за ",["$","span",null,{"className":"math","dangerouslySetInnerHTML":{"__html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>O</mi><mo stretchy=\"false\">(</mo><mi>log</mi><mo>⁡</mo><mi>n</mi><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">O(\\log n)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">O</span><span class=\"mopen\">(</span><span class=\"mop\">lo<span style=\"margin-right:0.01389em;\">g</span></span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord mathnormal\">n</span><span class=\"mclose\">)</span></span></span></span>"}}],"."]}]}],["$","div",null,{"className":"image","children":["$","$L3",null,{"src":"/_next/static/media/heap-example.8abff8a2.svg","width":256,"height":200,"alt":"$undefined"}]}],["$","div",null,{"className":"par","children":[["$","p",null,{"children":"Хранить элементы двоичной кучи можно в массиве без дополнительной информации (дерево полное)."}],["$","p",null,{"children":["Все слои дерева хранятся по порядку, от верхнего к нижнему. При этом у элемента с индексом ",["$","span",null,{"className":"math","dangerouslySetInnerHTML":{"__html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>i</mi></mrow><annotation encoding=\"application/x-tex\">i</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6595em;\"></span><span class=\"mord mathnormal\">i</span></span></span></span>"}}]," дети имеют индексы"," ",["$","span",null,{"className":"math","dangerouslySetInnerHTML":{"__html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mn>2</mn><mi>i</mi><mo>+</mo><mn>1</mn></mrow><annotation encoding=\"application/x-tex\">2i + 1</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.7429em;vertical-align:-0.0833em;\"></span><span class=\"mord\">2</span><span class=\"mord mathnormal\">i</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">+</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6444em;\"></span><span class=\"mord\">1</span></span></span></span>"}}]," и ",["$","span",null,{"className":"math","dangerouslySetInnerHTML":{"__html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mn>2</mn><mi>i</mi><mo>+</mo><mn>2</mn></mrow><annotation encoding=\"application/x-tex\">2i + 2</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.7429em;vertical-align:-0.0833em;\"></span><span class=\"mord\">2</span><span class=\"mord mathnormal\">i</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">+</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6444em;\"></span><span class=\"mord\">2</span></span></span></span>"}}],". Максимальный элемент имеет индекс ",["$","span",null,{"className":"math","dangerouslySetInnerHTML":{"__html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mn>0</mn></mrow><annotation encoding=\"application/x-tex\">0</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6444em;\"></span><span class=\"mord\">0</span></span></span></span>"}}],". Высота кучи"," ",["$","span",null,{"className":"math","dangerouslySetInnerHTML":{"__html":"$4"}}],"."]}]]}],["$","section",null,{"children":[["$","h1",null,{"children":"Операции над кучей"}],["$","div",null,{"className":"par","children":["$","p",null,{"children":"Куча реализует интерфейс приоритетной очереди, то есть в кучу можно вставлять элементы и извлекать максимальный (минимальный). Для корректной работы этих операций нужны дополнительно операции восстановления свойств кучи."}]}],["$","h2",null,{"children":"Восстановление свойств"}],["$","div",null,{"className":"par","children":[["$","p",null,{"children":"Если в куче изменяется один элемент, то она может перестать удовлетворять свойству упорядоченности."}],["$","p",null,{"children":["Для восстановления этого свойства нужны две процедуры"," ",["$","span",null,{"className":"code","children":[["$","code",null,{"className":"language-pseudocode","dangerouslySetInnerHTML":{"__html":"shift_up"}}],false]}]," и ",["$","span",null,{"className":"code","children":[["$","code",null,{"className":"language-pseudocode","dangerouslySetInnerHTML":{"__html":"shift_down"}}],false]}]," (просеивание)."]}]]}],["$","div",null,{"className":"par","children":[["$","p",null,{"children":["$","span",null,{"className":"decl","children":"Алгоритм просеивания вниз"}]}],["$","ol",null,{"className":"tight","children":[["$","li",null,{"children":["$","p",null,{"children":"Если просеиваемый элемент меньше, чем его дети, то меняем его с наибольшим из его детей."}]}],["$","li",null,{"children":["$","p",null,{"children":"Продолжаем просеивать этого ребенка, если еще не дошли до конца кучи."}]}]]}]]}],["$","div",null,{"className":"image","children":["$","$L3",null,{"src":"/_next/static/media/heap-shift-down.59f42d4e.svg","width":832,"height":200,"alt":"$undefined"}]}],["$","div",null,{"className":"codeblock","children":[["$","code",null,{"className":"language-pseudocode","dangerouslySetInnerHTML":{"__html":"$5"}}],["$","$L6",null,{"text":"private method shift_down(array h, int i):\n    while 2 * i + 1 < size of h:\n        left = 2 * i + 1\n        right = 2 * i + 2\n        \n        if right < size of h and h[right] > h[left]:\n            j = right\n        else:\n            j = left\n        \n        if h[i] >= h[j]:\n            break\n\n        swap h[i], h[j]\n        i = j"}]]}],["$","div",null,{"className":"par","children":[["$","p",null,{"children":["$","span",null,{"className":"decl","children":"Алгоритм просеивания вверх"}]}],["$","ol",null,{"className":"tight","children":[["$","li",null,{"children":["$","p",null,{"children":"Если просеиваемый элемент меньше, чем его родитель, то меняем этот элемент с его родителем."}]}],["$","li",null,{"children":["$","p",null,{"children":"Продолжаем просеивать родителя, если еще не дошли до верха кучи."}]}]]}]]}],["$","div",null,{"className":"image","children":["$","$L3",null,{"src":"/_next/static/media/heap-shift-up.51133c8f.svg","width":832,"height":200,"alt":"$undefined"}]}],["$","div",null,{"className":"codeblock","children":[["$","code",null,{"className":"language-pseudocode","dangerouslySetInnerHTML":{"__html":"$7"}}],["$","$L6",null,{"text":"private method shift_up(array h, int i):\n    while h[i] > h[(i - 1) / 2]:\n        swap h[i], h[(i - 1) / 2]\n        i = (i - 1) / 2"}]]}],["$","div",null,{"className":"par","children":["$","p",null,{"children":["Обе процедуры выполняются за время"," ",["$","span",null,{"className":"math","dangerouslySetInnerHTML":{"__html":"$8"}}],"."]}]}],["$","h2",null,{"children":"Извлечение максимального элемента"}],["$","div",null,{"className":"par","children":[["$","p",null,{"children":["$","span",null,{"className":"decl","children":"Алгоритм извлечения максимального элемента"}]}],["$","ol",null,{"className":"tight","children":[["$","li",null,{"children":["$","p",null,{"children":"Сохраняем значение корневого элемента для дальнейшего возврата"}]}],["$","li",null,{"children":["$","p",null,{"children":"Помещаем последний элемент в корень"}]}],["$","li",null,{"children":["$","p",null,{"children":["Выполняем ",["$","span",null,{"className":"code","children":[["$","code",null,{"className":"language-pseudocode","dangerouslySetInnerHTML":{"__html":"shift_down"}}],false]}]," для корня"]}]}],["$","li",null,{"children":["$","p",null,{"children":"Возвращаем сохраненное значение"}]}]]}]]}],["$","div",null,{"className":"codeblock","children":[["$","code",null,{"className":"language-pseudocode","dangerouslySetInnerHTML":{"__html":"$9"}}],["$","$L6",null,{"text":"method extract_max(array h):\n    maximum = h[0]\n    h[0] = h[-1]\n    delete h[-1]\n    \n    shift_down(h, 0)\n    return maximum"}]]}],["$","div",null,{"className":"par","children":["$","p",null,{"children":["Операция выполняется за время ",["$","span",null,{"className":"math","dangerouslySetInnerHTML":{"__html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>O</mi><mo stretchy=\"false\">(</mo><mi>log</mi><mo>⁡</mo><mi>n</mi><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">O(\\log n)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">O</span><span class=\"mopen\">(</span><span class=\"mop\">lo<span style=\"margin-right:0.01389em;\">g</span></span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord mathnormal\">n</span><span class=\"mclose\">)</span></span></span></span>"}}],", равное времени выполнения ",["$","span",null,{"className":"code","children":[["$","code",null,{"className":"language-pseudocode","dangerouslySetInnerHTML":{"__html":"shift_down"}}],false]}],"."]}]}],["$","h2",null,{"children":"Добавление элемента"}],["$","div",null,{"className":"par","children":[["$","p",null,{"children":["$","span",null,{"className":"decl","children":"Алгоритм добавления элемента"}]}],["$","ol",null,{"className":"tight","children":[["$","li",null,{"children":["$","p",null,{"children":"Добавляем элемент в конец кучи"}]}],["$","li",null,{"children":["$","p",null,{"children":["Выполняем ",["$","span",null,{"className":"code","children":[["$","code",null,{"className":"language-pseudocode","dangerouslySetInnerHTML":{"__html":"shift_up"}}],false]}]," для этого элемента"]}]}]]}]]}],["$","div",null,{"className":"codeblock","children":[["$","code",null,{"className":"language-pseudocode","dangerouslySetInnerHTML":{"__html":"<span class=\"keyword\">method</span> <span class=\"function\">push</span><span class=\"punctuation\">(</span><span class=\"abstract-type\">array</span> h<span class=\"punctuation\">,</span> value<span class=\"punctuation\">)</span><span class=\"punctuation\">:</span>\n    h<span class=\"punctuation\">.</span><span class=\"function\">append</span><span class=\"punctuation\">(</span>value<span class=\"punctuation\">)</span>\n    <span class=\"function\">shift_up</span><span class=\"punctuation\">(</span>h<span class=\"punctuation\">,</span> size of h <span class=\"operator\">-</span> <span class=\"number\">1</span><span class=\"punctuation\">)</span>"}}],["$","$L6",null,{"text":"method push(array h, value):\n    h.append(value)\n    shift_up(h, size of h - 1)"}]]}],["$","div",null,{"className":"par","children":["$","p",null,{"children":["Операция выполняется за время ",["$","span",null,{"className":"math","dangerouslySetInnerHTML":{"__html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>O</mi><mo stretchy=\"false\">(</mo><mi>log</mi><mo>⁡</mo><mi>n</mi><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">O(\\log n)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">O</span><span class=\"mopen\">(</span><span class=\"mop\">lo<span style=\"margin-right:0.01389em;\">g</span></span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord mathnormal\">n</span><span class=\"mclose\">)</span></span></span></span>"}}],", равное времени выполнения ",["$","span",null,{"className":"code","children":[["$","code",null,{"className":"language-pseudocode","dangerouslySetInnerHTML":{"__html":"shift_up"}}],false]}],"."]}]}]]}],["$","section",null,{"children":[["$","h1",null,{"children":"Удаление произвольного элемента"}],["$","div",null,{"className":"par","children":[["$","p",null,{"children":"Обычная куча не поддерживает удаление произвольного элемента по его значению."}],["$","p",null,{"children":"Эту операцию можно реализовать с помощью хеш-таблицы, в которой для каждого элемента поддерживается ссылка на его место. Не самый удобный вариант. Существует более элегантный и простой метод с использованием только куч."}]]}],["$","div",null,{"className":"par","children":[["$","p",null,{"children":["Пусть у нас есть куча ",["$","span",null,{"className":"code","children":[["$","code",null,{"className":"language-pseudocode","dangerouslySetInnerHTML":{"__html":"h"}}],false]}],", для которой мы хотим реализовать произвольное удаление элемента. Заведем еще одну кучу"," ",["$","span",null,{"className":"code","children":[["$","code",null,{"className":"language-pseudocode","dangerouslySetInnerHTML":{"__html":"d"}}],false]}],", в которой будем хранить удаляемые элементы."]}],["$","p",null,{"children":["Когда пришел запрос на удаление ",["$","span",null,{"className":"math","dangerouslySetInnerHTML":{"__html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>x</mi></mrow><annotation encoding=\"application/x-tex\">x</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\">x</span></span></span></span>"}}],", с кучей"," ",["$","span",null,{"className":"code","children":[["$","code",null,{"className":"language-pseudocode","dangerouslySetInnerHTML":{"__html":"h"}}],false]}]," мы ничего не делаем, а просто добавляем"," ",["$","span",null,{"className":"math","dangerouslySetInnerHTML":{"__html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>x</mi></mrow><annotation encoding=\"application/x-tex\">x</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\">x</span></span></span></span>"}}]," в кучу ",["$","span",null,{"className":"code","children":[["$","code",null,{"className":"language-pseudocode","dangerouslySetInnerHTML":{"__html":"d"}}],false]}],"."]}],["$","p",null,{"children":["При обращении к максимальному элементу кучи ",["$","span",null,{"className":"code","children":[["$","code",null,{"className":"language-pseudocode","dangerouslySetInnerHTML":{"__html":"h"}}],false]}]," может оказаться так, что он уже был удален. Тогда пока максимальные элементы куч ",["$","span",null,{"className":"code","children":[["$","code",null,{"className":"language-pseudocode","dangerouslySetInnerHTML":{"__html":"h"}}],false]}]," и ",["$","span",null,{"className":"code","children":[["$","code",null,{"className":"language-pseudocode","dangerouslySetInnerHTML":{"__html":"d"}}],false]}]," совпадают, извлекаем их, а затем продолжаем работу в штатном режиме."]}]]}]]}]],[["$","link","0",{"rel":"stylesheet","href":"/_next/static/css/c7d54b6fa11d1a10.css","precedence":"next","crossOrigin":"$undefined"}],["$","link","1",{"rel":"stylesheet","href":"/_next/static/css/cffc39addae3f57c.css","precedence":"next","crossOrigin":"$undefined"}],["$","link","2",{"rel":"stylesheet","href":"/_next/static/css/b1ef9917c41239b8.css","precedence":"next","crossOrigin":"$undefined"}],["$","link","3",{"rel":"stylesheet","href":"/_next/static/css/fe2eed3e70b09d81.css","precedence":"next","crossOrigin":"$undefined"}],["$","link","4",{"rel":"stylesheet","href":"/_next/static/css/224c6de4cde30e73.css","precedence":"next","crossOrigin":"$undefined"}],["$","link","5",{"rel":"stylesheet","href":"/_next/static/css/cb1458b54209591a.css","precedence":"next","crossOrigin":"$undefined"}],["$","link","6",{"rel":"stylesheet","href":"/_next/static/css/a85cc6ffb2e23bf0.css","precedence":"next","crossOrigin":"$undefined"}],["$","link","7",{"rel":"stylesheet","href":"/_next/static/css/e1fa1c63977e8d7a.css","precedence":"next","crossOrigin":"$undefined"}]]],null],null]},[null,["$","$La",null,{"parallelRouterKey":"children","segmentPath":["children","(notes)","children","ds","children","(heaps)","children","heap","children"],"error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$Lb",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":"$undefined","notFoundStyles":"$undefined"}]],null]},[null,["$","$La",null,{"parallelRouterKey":"children","segmentPath":["children","(notes)","children","ds","children","(heaps)","children"],"error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$Lb",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":"$undefined","notFoundStyles":"$undefined"}]],null]},[null,["$","$La",null,{"parallelRouterKey":"children","segmentPath":["children","(notes)","children","ds","children"],"error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$Lb",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":"$undefined","notFoundStyles":"$undefined"}]],null]},[[[["$","link","0",{"rel":"stylesheet","href":"/_next/static/css/07ddf3913eec176a.css","precedence":"next","crossOrigin":"$undefined"}]],[["$","article",null,{"children":["$","$La",null,{"parallelRouterKey":"children","segmentPath":["children","(notes)","children"],"error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$Lb",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":"$undefined","notFoundStyles":"$undefined"}]}],["$","div",null,{"style":{"height":"5rem"}}]]],null],null]},[[[["$","link","0",{"rel":"stylesheet","href":"/_next/static/css/74f523037e4c99c9.css","precedence":"next","crossOrigin":"$undefined"}]],["$","html",null,{"lang":"ru","children":["$","body",null,{"className":"__variable_8aafdc __variable_42bd1a","children":[["$","header",null,{"children":[["$","img",null,{"src":"/icon.svg","alt":"","role":"presentation"}],["$","nav",null,{"children":[["$","$Lc",null,{"className":"colorless","href":"/","children":"Главная"}],["$","$Lc",null,{"className":"colorless","href":"/tasks","children":"Задачи"}]]}]]}],["$","$La",null,{"parallelRouterKey":"children","segmentPath":["children"],"error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$Lb",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":["$","div",null,{"className":"error404","children":[["$","h1",null,{"children":[["$","span",null,{"children":"4"}],["$","span",null,{"children":"0"}],["$","span",null,{"children":"4"}]]}],"Без паники! Вы просто попали на несуществующую страницу."]}],"notFoundStyles":[]}]]}]}]],null],null],["$Ld",null]]]]
d:[["$","meta","0",{"name":"viewport","content":"width=device-width, initial-scale=1"}],["$","meta","1",{"charSet":"utf-8"}],["$","title","2",{"children":"Двоичная куча"}],["$","meta","3",{"name":"description","content":"..."}],["$","link","4",{"rel":"icon","href":"/icon.svg?3bdfcaa020873225","type":"image/svg+xml","sizes":"any"}]]
1:null
